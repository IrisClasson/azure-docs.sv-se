---
title: Sårbarhetsbedömning för SQL - Azure SQL Database | Microsoft Docs
description: Lär dig hur du konfigurerar och Sårbarhetsbedömning för SQL i SQL-databas och tolka utvärdering av rapporter.
services: sql-database
ms.service: sql-database
ms.subservice: security
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: ronitr
ms.author: ronitr
ms.reviewer: vanto, carlrab
manager: craigg
ms.date: 03/12/2019
ms.openlocfilehash: 6906c7f173daf93775758199c0e7802b571d8b63
ms.sourcegitcommit: f6ba5c5a4b1ec4e35c41a4e799fb669ad5099522
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 05/06/2019
ms.locfileid: "65153009"
---
# <a name="sql-vulnerability-assessment-service-helps-you-identify-database-vulnerabilities"></a>Sårbarhetsbedömning för SQL-tjänsten hjälper dig att identifiera säkerhetsrisker i databasen

Sårbarhetsbedömning för SQL är ett enkelt sätt att konfigurera tjänsten som kan upptäcka, spåra och hjälper dig att åtgärda säkerhetsrisker i databasen. Du kan använda den för att proaktivt förbättra din databassäkerhet.

Vulnerability Assessment är en del av den [avancerade datasäkerhet](sql-database-advanced-data-security.md) (ADS) erbjudande som en enhetlig paket för avancerade funktioner för SQL-säkerhet. Utvärdering av säkerhetsrisker kan nås och hanteras via den centrala SQL ADS-portalen.

> [!NOTE]
> Utvärdering av säkerhetsrisker har stöd för Azure SQL Database, Azure SQL Managed Instance och Azure SQL Data Warehouse. För enkelhetens skull används SQL-databas i den här artikeln när du refererar till någon av dessa hanterade databastjänster.

## <a name="the-vulnerability-assessment-service"></a>Tjänsten utvärdering av säkerhetsrisker

SQL Vulnerability Assessment (VA) är en tjänst som ger insyn i ditt säkerhetsläge och innehåller lämpliga åtgärder för att lösa säkerhetsproblem och förbättra säkerheten för din databas. Det kan hjälpa dig:  

- Uppfyll efterlevnadskrav som kräver genomsökningsrapporter för databasen.  
- Uppfyll data sekretesstandarder.  
- Övervaka en dynamisk databasmiljö där ändringar är svåra att spåra.  

Vulnerability Assessment är en skanningstjänst som är inbyggd i tjänsten Azure SQL Database. Tjänsten används en kunskapsbas med regler som flagga säkerhetsrisker och markera avvikelser från regelverk som felkonfigurationer, onödigt generösa behörigheter och oskyddade känsliga data. Reglerna är baserade på Microsofts bästa praxis och fokusera på säkerhetsproblem som presenterar de största riskerna för din databas och dess värdefulla data. De täcker både på databasnivå problem samt på servernivå säkerhetsproblem som serverbrandväggsinställningarna och behörigheter på servernivå. De här reglerna representerar många av kraven från olika reglerande organ för att uppfylla sina efterlevnadsstandarder.  

Resultatet av genomsökningen inkludera lämpliga åtgärder för att lösa de olika problemen och anpassade skript där det är tillämpligt. En rapport kan anpassas för din miljö genom att ange en godkända baslinje för konfigurationer som behörighet, funktionen konfigurationer och inställningar för databasen.

## <a name="implementing-vulnerability-assessment"></a>Implementera Sårbarhetsbedömning

Följande steg implementera VA på SQL-databas.  

### <a name="1-run-a-scan"></a>1. Kör en skanning  

Kom igång med VA genom att gå till **avancerade datasäkerhet** under rubriken säkerhet i Azure SQL Database-rutan. Klicka om du vill aktivera avancerad säkerhet och klicka sedan på **Välj lagringsenhet** eller på den **Sårbarhetsbedömning** kortet, som automatiskt öppnar kortet Vulnerability Assessment inställningar för hela SQLServer.

Starta genom att konfigurera ett storage-konto där dina sökresultat för alla databaser på servern kommer att lagras. Information om lagringskonton finns i [om Azure storage-konton](../storage/common/storage-create-storage-account.md). När lagring har konfigurerats klickar du på **skanna** söker igenom din databas efter säkerhetsrisker.
  
![Skanna en databas](./media/sql-vulnerability-assessment/pp_va_initialize.png)  

  > [!NOTE]
  > Sökningen är enkelt och säkert. Det tar några sekunder att köra, och är helt och hållet skrivskyddad. Det inte göra några ändringar till din databas.  

### <a name="2-view-the-report"></a>2. Läs rapporten

När din genomsökningen är klar visas automatiskt Genomsökningsrapporten i Azure-portalen. Rapporten visar en översikt över ditt Säkerhetsläge: hur många problem hittades och deras respektive allvarlighetsgrader. Bland resultaten återfinns varningar vid avvikelser från bästa praxis och en ögonblicksbild av dina säkerhetsrelaterade inställningar, till exempel huvudkonton och roller och deras associerade behörigheter. Rapporten även innehåller en karta över känsliga data identifieras i din databas och innehåller rekommendationer för att klassificera data med hjälp av [dataidentifiering och klassificering](sql-database-data-discovery-and-classification.md).

![Läs rapporten](./media/sql-vulnerability-assessment/pp_main_getstarted.png)  

### <a name="3-analyze-the-results-and-resolve-issues"></a>3. Analysera resultaten och lösa problem

Granska resultaten och kontrollera resultaten i rapporten som är SANT säkerhetsproblem i din miljö. Öka detaljnivån till varje misslyckade resultat att förstå effekten av den att hitta och varför varje säkerhetskontrollen misslyckades. Använda användbara åtgärdsinformationen tillhandahålls av rapporten för att lösa problemet.  

![Analysera rapporten](./media/sql-vulnerability-assessment/pp_fail_rule_show_remediation.png)

### <a name="4-set-your-baseline"></a>4. Ange din baslinje

När du granskar din utvärderingsresultat kan du markera specifika resultat som en godkänd *baslinje* i din miljö. Baslinjen är i grunden en anpassning av hur resultatet rapporteras. Resultat som matchar baslinjen betraktas som skicka efterföljande sökningar. När du har skapat din baslinje säkerhetstillstånd, VA rapporterar endast vid avvikelser från baslinjen och du kan fokusera din uppmärksamhet på relevanta problemen.  

![Ange din baslinje](./media/sql-vulnerability-assessment/pp_fail_rule_show_baseline.png)  

### <a name="5-run-a-new-scan-to-see-your-customized-tracking-report"></a>5. Kör en ny genomsökning för att se din anpassade spårnings-rapport

När du har slutfört inställningen upp din **regeln baslinjer**, kör en ny genomsökning för att visa den anpassade rapporten. VA Rapporterar nu endast säkerheten utfärdar den avvika från din godkända baslinje-tillstånd.

![Visa din anpassade rapport](./media/sql-vulnerability-assessment/pp_pass_main_with_baselines.png)  

Utvärdering av säkerhetsrisker kan nu användas för att övervaka att din databas upprätthåller en hög säkerhetsnivå för hela tiden och att din organisations principer är uppfyllda. Om efterlevnadsrapporter krävs, kan det vara användbart att underlätta processen för regelefterlevnad VA-rapporter.  

### <a name="6-set-up-periodic-recurring-scans"></a>6. Konfigurera periodiskt återkommande sökningar

Gå till inställningarna för Säkerhetsriskbedömning för att aktivera **periodiskt återkommande sökningar**. Den här koden konfigurerar Sårbarhetsbedömning för att automatiskt köra en genomsökning av databasen en gång i veckan. En sammanfattning för resultatet av genomsökningen skickas till de e-postadresser som du anger.

![Visa din anpassade rapport](./media/sql-vulnerability-assessment/pp_recurring_scans.png)

### <a name="7-export-an-assessment-report"></a>7. Exportera en rapport

Klicka på **exportera genomsökningsresultat** att skapa en nedladdningsbar Excel-rapport i din genomsökningsresultatet. Den här rapporten innehåller en sammanfattning av flik som visar en sammanfattning av utvärdering, inklusive alla misslyckade kontroller. Den innehåller också en **resultat** fliken som innehåller den fullständiga uppsättningen resultaten från genomsökningen, inklusive alla kontroller som var körnings- och information om resultat för varje.

### <a name="8-view-scan-history"></a>8. Visa historik för genomsökning

Klicka på **skanna historik** i VA-fönstret för att visa en historik över alla genomsökningar som körts tidigare på den här databasen. Välj en viss sökning i listan för att visa ett detaljerat resultat av den genomsökningen.

Utvärdering av säkerhetsrisker kan nu användas för att övervaka att din databas upprätthåller en hög säkerhetsnivå för hela tiden och att din organisations principer är uppfyllda. Om efterlevnadsrapporter krävs, kan det vara användbart att underlätta processen för regelefterlevnad VA-rapporter.

## <a name="manage-vulnerability-assessments-using-azure-powershell"></a>Hantera säkerhetsproblem utvärderingar med Azure PowerShell

[!INCLUDE [updated-for-az](../../includes/updated-for-az.md)]
> [!IMPORTANT]
> Modulen PowerShell Azure Resource Manager är fortfarande stöds av Azure SQL Database, men alla framtida utveckling är för modulen Az.Sql. Dessa cmdlets finns i [i AzureRM.Sql](https://docs.microsoft.com/powershell/module/AzureRM.Sql/). Argumenten för kommandon i modulen Az och AzureRm-moduler är avsevärt identiska.

Du kan använda Azure PowerShell-cmdletar för att programmässigt hantera dina säkerhetsproblem utvärderingar. Cmdletarna som stöds är:

- [Update-AzSqlDatabaseVulnerabilityAssessmentSetting](https://docs.microsoft.com/powershell/module/az.sql/Update-azSqlDatabaseVulnerabilityAssessmentSetting)

  Uppdaterar vulnerability assessment inställningarna för en databas
- [Get-AzSqlDatabaseVulnerabilityAssessmentSetting](https://docs.microsoft.com/powershell/module/az.sql/Get-azSqlDatabaseVulnerabilityAssessmentSetting)

  Returnerar sårbarheten inställningar för utvärdering av en databas
- [Clear-AzSqlDatabaseVulnerabilityAssessmentSetting](https://docs.microsoft.com/powershell/module/az.sql/Clear-azSqlDatabaseVulnerabilityAssessmentSetting)

  Tar bort vulnerability assessment inställningarna för en databas
- [Set-AzSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/az.sql/Set-azSqlDatabaseVulnerabilityAssessmentRuleBaseline)

  Anger vulnerability assessment regeln baslinjen.
- [Get-AzSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/az.sql/Get-azSqlDatabaseVulnerabilityAssessmentRuleBaseline)

  Hämtar vulnerability assessment regeln baslinjen för en viss regel.
- [Clear-AzSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/az.sql/Clear-azSqlDatabaseVulnerabilityAssessmentRuleBaseline)

  Tar bort vulnerability assessment regeln baslinjen. Först ställa in baslinjen innan du använder denna cmdlet för att rensa den.
- [Start-AzSqlDatabaseVulnerabilityAssessmentScan](https://docs.microsoft.com/powershell/module/az.sql/Start-azSqlDatabaseVulnerabilityAssessmentScan)

  Utlöser början av en genomsökning för sårbarhetsbedömning
- [Get-AzSqlDatabaseVulnerabilityAssessmentScanRecord](https://docs.microsoft.com/powershell/module/az.sql/Get-azSqlDatabaseVulnerabilityAssessmentScanRecord)

   Hämtar alla vulnerability assessment genomsökning poster som som är associerade med en viss databas.
- [Convert-AzSqlDatabaseVulnerabilityAssessmentScan](https://docs.microsoft.com/powershell/module/az.sql/Convert-azSqlDatabaseVulnerabilityAssessmentScan)

  Konverterar vulnerability assessment sökresultat till en Excel-fil

Ett skript-exempel finns i [stöd för Azure SQL Vulnerability Assessment PowerShell](https://blogs.msdn.microsoft.com/sqlsecurity/20../../azure-sql-vulnerability-assessment-now-with-powershell-support/).

## <a name="next-steps"></a>Nästa steg  

- Läs mer om [avancerad datasäkerhet](sql-database-advanced-data-security.md)
- Läs mer om [dataidentifiering och klassificering](sql-database-data-discovery-and-classification.md)
