---
title: Microsoft Azure anpassnings guide för säkerhets kod analys
description: I den här artikeln beskrivs listor över YAML konfigurations alternativ för att anpassa alla aktiviteter i tillägget Microsoft Security code Analysis
author: vharindra
manager: sukhans
ms.author: terrylan
ms.date: 11/29/2019
ms.topic: article
ms.service: security
services: azure
ms.assetid: 521180dc-2cc9-43f1-ae87-2701de7ca6b8
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.openlocfilehash: 82802ceae8f9fdd24d1f5642d80d90ebfd8b92a3
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 04/28/2020
ms.locfileid: "75460667"
---
# <a name="yaml-configuration-options-to-customize-the-build-tasks"></a>YAML konfigurations alternativ för att anpassa Bygg aktiviteter

Den här artikeln innehåller alla YAML konfigurations alternativ som är tillgängliga i varje version av åtgärden. Artikeln börjar med uppgifterna för analys verktyg för säkerhets kod. Den avslutas med uppgifterna efter bearbetningen.

## <a name="anti-malware-scanner-task"></a>Aktivitet för skanner för program mot skadlig kod

| **InputType**      | **Typ**     | **Distribution**            | **Obligatoriskt** | **Standardvärde**             | **Alternativ (för List rutor)**                                   | **Beskrivning**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| InputType | Listan | alltid | True | Basic | Grundläggande, anpassad | 
| ScanType | Listan | InputType = Basic | True | CustomScan | CustomScan, FullSystemScan, QuickScan, YourConfiguredScan | Genomsöknings typen som ska användas för genomsökning mot skadlig kod.
| FileDirPath | filePath | ScanType = CustomScan | True | $ (Build. StagingDirectory) |  | Anger filen eller katalogen som ska genomsökas.
| DisableRemediation | boolean | ScanType = CustomScan | False | true |  | Vid markering: 1) ignoreras fil undantag. 2) arkivfiler genomsöks. 3) åtgärder tillämpas inte efter identifiering. 4) händelse logg poster skrivs inte efter identifiering. 5) identifieringar från den anpassade genomsökningen visas inte i användar gränssnittet. 6) konsolens utdata visar listan över identifieringar från den anpassade genomsökningen.
| BootSectorScan | boolean | ScanType = CustomScan | False | false |  | Om det här alternativet är markerat aktive ras genomsökning av start sektorn.
| Argument | sträng | InputType = anpassad | True | -Scan-ScanType 3-DisableRemediation-File $ (build. StagingDirectory) |  | Kommando rads argumenten där argumentet for-File är en absolut sökväg eller en relativ sökväg till $ (build. StagingDirectory) som är fördefinierad på din build-agent. Obs: om du inte anger något argument för-filen som det sista argumentet, används $ (build. StagingDirectory) som standard. Du kan också ange egna argument som tillåts av verktyget lib. exe.<br/><br/>Om du vill ha mer information om kommando rads argumenten för det här verktyget anger du <strong>-h</strong> eller <strong>-?</strong> i fältet argument och kör Bygg uppgiften.
| EnableServices | boolean | alltid | True | false |  | Om det här alternativet markeras kommer det att försöka aktivera de tjänster som krävs för Windows Update om de är inaktiverade.<br/>**Obs!** kontrol lera att grup principen inte inaktiverar tjänsterna och att det konto som den här versionen körs under har administratörs behörighet.
| SupportLogOnError | boolean | alltid | True | false |  | Om det här alternativet markeras samlar det in de stödfiler som ska diagnostiseras när ett fel har uppstått. Det här kan ta flera minuter.<br/>**Obs!** kontrol lera att det konto som den här versionen körs under har administratörs behörighet.
| TreatSignatureUpdateFailureAs | Listan | alltid | True | Varning | Fel, standard, varning | Den logg nivå som används om signaturen inte kan uppdateras vid körning. När det är inställt på **fel**, Miss lyckas åtgärden för att uppdatera signaturen. Observera att det är vanligt att signaturen uppdateras för att Miss lyckas på värdbaserade Bygg agenter, även om signaturen kan vara relativt aktuell (mindre än tre timmar gammal).
| SignatureFreshness | Listan | alltid | True | UpToDate | OneDay, ThreeDays, TwoDays, UpToDate | Den högsta tillåtna åldern för signaturen för program mot skadlig kod. Om signaturen inte kan uppdateras och är äldre än det här värdet, kommer build-uppgiften att betes enligt det valda värdet i fältet **validera signaturernas ålder som** . Obs! Om du väljer **uppdaterad**får signaturerna vara upp till tre timmar gamla.
| TreatStaleSignatureAs | Listan | alltid | True | Fel | Fel, standard, varning | Den logg nivå som används om signaturens ålder är äldre än den valda **åldern för signaturen för skadlig kod**. En föråldrad signatur kan behandlas som en **Varning** eller **information** för att fortsätta med genomsökningen av program mot skadlig kod, men detta rekommenderas inte.

## <a name="binskim-task"></a>BinSkim-uppgift

| **InputType**      | **Typ**     | **Distribution**            | **Obligatoriskt** | **Standardvärde**             | **Alternativ (för List rutor)**                                   | **Beskrivning**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| InputType | Listan | alltid | True | Basic | Basic, kommandorad | 
| ogiltiga | sträng | InputType = kommando rad | True |  |  | Standard kommando rads argument för Binskim som ska köras. Sökvägen för utdata kommer att tas bort och ersättas.<br>Om du vill ha mer information om kommando rads argumenten för det här verktyget anger du **Hjälp** i fältet argument och kör åtgärden Skapa.
| Funktion | Listan | InputType = Basic | True | stycke | analysera, dumpa, exportConfig, exportRules | 
| AnalyzeTarget | filePath | InputType = grundläggande && funktion = analysera | True | $ (Build. ArtifactStagingDirectory)\*. dll;<br>$ (Build. ArtifactStagingDirectory)\*. exe |  | En eller flera specificerare för en fil, ett katalog eller ett filter mönster som matchar en eller flera binärfiler som ska analyseras. ('; '-avgränsad lista)
| AnalyzeSymPath | sträng | InputType = grundläggande && funktion = analysera | False |  |  | Sökväg till symbol filen för målet.
| AnalyzeConfigPath | sträng | InputType = grundläggande && funktion = analysera | False | standard |  | Sökväg till en princip fil som ska användas för att konfigurera analyser. Skicka värdet för standard om du vill använda inbyggda inställningar.
| AnalyzePluginPath | sträng | InputType = grundläggande && funktion = analysera | False |  |  | Sökväg till ett plugin-program som ska anropas mot alla mål i analys uppsättningen.
| AnalyzeRecurse | boolean | InputType = grundläggande && funktion = analysera | False | true |  | Rekursivt i under kataloger när du utvärderar argument för filspecificeraren.
| AnalyzeVerbose | boolean | InputType = grundläggande && funktion = analysera | False | false |  | Genererar utförliga utdata. Den resulterande omfattande rapporten är utformad för att tillhandahålla lämpliga bevis för kompatibla scenarier.
| AnalyzeHashes | boolean | InputType = grundläggande && funktion = analysera | False | false |  | Output SHA-256-hash av analys mål vid sändning av SARIF-rapporter.
| AnalyzeStatistics | boolean | InputType = grundläggande && funktion = analysera | False | false |  | Generera tids inställning och annan statistik för Analysis-sessionen.
| AnalyzeEnvironment | boolean | InputType = grundläggande && funktion = analysera | False | false |  | Logg dator miljö information om kör till utdatafilen. Varning! det här alternativet registrerar potentiellt känslig information (till exempel alla miljö variabel värden) till eventuella utgivna loggar.
| ExportRulesOutputType | Listan | InputType = Basic && Function = exportRules | False | SARIF | SARIF, SonarQube | Typ av regel beskrivnings fil som ska matas ut. Detta kommer att tas med i mappen BinSkim logs som publicerats av bygg aktiviteten publicera säkerhets analys loggar.
| DumpTarget | filePath | InputType = Basic && Function = dump | True | $ (Build. ArtifactStagingDirectory) |  | En eller flera specificerare för en fil, ett katalog eller ett filter mönster som matchar en eller flera binärfiler som ska analyseras. ('; '-avgränsad lista)
| DumpRecurse | boolean | InputType = Basic && Function = dump | False | true |  | Rekursivt i under kataloger när du utvärderar argument för filspecificeraren.
| DumpVerbose | boolean | InputType = Basic && Function = dump | False | true |  | Genererar utförliga utdata. Den resulterande omfattande rapporten är utformad för att tillhandahålla lämpliga bevis för kompatibla scenarier.
| toolVersion | Listan | alltid | False | Nya | 1.5.0, senaste, LatestPreRelease | Den version av verktyget som ska köras.

## <a name="credential-scanner-task"></a>Uppgift för genomsökning av autentiseringsuppgifter

| **InputType**      | **Typ**     | **Distribution**            | **Obligatoriskt** | **Standardvärde**             | **Alternativ (för List rutor)**                                   | **Beskrivning**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| outputFormat | Listan | alltid | False | pre | CSV, pre, TSV | Utdataformatet för filen med skanner resultat för autentiseringsuppgifter.
| toolVersion | Listan | alltid | False | Nya | 1.27.7, senaste, LatestPreRelease | Den version av verktyget som ska köras.
| scanFolder | filePath | alltid | False | $ (Build. SourcesDirectory) |  | Mappen i din lagrings plats för att söka efter autentiseringsuppgifter.
| searchersFileType | Listan | alltid | False | Default | Anpassad, standard, DefaultAndCustom | Alternativ för att hitta Sök efter-filen som används för genomsökning.
| searchersFile | filePath | searchersFileType = = Custom eller searchersFileType = = DefaultAndCustom | False |  |  | Konfigurations filen för den autentiseringsuppgifter som söks igenom vid kontroller som ska köras. Flera värden kan inkluderas och användas genom att tillhandahålla en kommaavgränsad lista med sökvägar till Sök vägarna för autentiseringsuppgifter.
| suppressionsFile | filePath | alltid | False |  |  | Filen med autentiseringsuppgifter för inloggnings läsare förhindrar att den används för att ignorera problem i utgående loggen.
| suppressAsError | boolean | alltid | False | false |  | Ignorerade matchningar skrivs ut till utdatafilen [-O]-matchar. [-f] i stället för den förvalda ignorerade utdatafilen [-O]-ignorerad. [-f]. (Standardvärdet är "false")
| verboseOutput | boolean | alltid | False | false |  | Utförlig information om utdata.
| batchSize | sträng | alltid | False |  |  | Antalet samtidiga trådar som används för att köra skannrar för autentiseringsuppgifter parallellt. (Standardvärdet är 20)<br/>Värdet måste vara inom intervallet 1-2147483647.
| regexMatchTimeoutInSeconds | sträng | alltid | False |  |  | Hur lång tid i sekunder det tar att försöka utföra en Sök funktion innan kontrollen överges.<br/>Lägger ``-Co RegexMatchTimeoutInSeconds=<Value>`` till på kommando raden.
| fileScanReadBufferSize | sträng | alltid | False |  |  | Buffertstorlek vid läsning av innehåll i byte. (Standardvärdet är 524288)<br/>Lägger ``-Co FileScanReadBufferSize=<Value>`` till på kommando raden.
| maxFileScanReadBytes | sträng | alltid | False |  |  | Maximalt antal byte som ska läsas från en specifik fil under innehålls analysen. (Standardvärdet är 104857600)<br/>Lägger ``-Co MaxFileScanReadBytes=<Value>`` till på kommando raden.

## <a name="microsoft-security-risk-detection-task"></a>Uppgift om Microsofts säkerhets risk identifiering

| **InputType**      | **Typ**     | **Distribution**            | **Obligatoriskt** | **Standardvärde**             | **Alternativ (för List rutor)**                                   | **Beskrivning**                                                                                                                                                                                                                                                                           |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ServiceEndpointName | connectedService: generisk | alltid | True |  |  | Namnet på den förkonfigurerade tjänst slut punkten (generisk typ) i VSTS-projektet som lagrar MSRD-instans-URL: en (du har köpt till) och REST API åtkomsttoken (som genererades från din konto inställnings sida och ger fullständig åtkomst till ditt konto).
| AccountId | sträng | alltid | True |  |  | GUID som identifierar kontot. Den kan hämtas från konto-URL: en.
| BinariesURL | sträng | alltid | True |  |  | En semikolonavgränsad lista med URL: er som används av den suddiga datorn för att ladda ned binärfiler. Ser till att URL: erna är allmänt tillgängliga.
| SeedsURL | sträng | alltid | False |  |  | En semikolonavgränsad lista med URL: er som används av den suddiga datorn för att hämta frön. Se till att URL: erna är allmänt tillgängliga.
| OSPlatformType | Listan | alltid | True | Windows | Linux, Windows | OS-plattformens typ av datorer för att köra det suddiga jobbet.
| WindowsEdition | sträng | OSPlatformType = Windows | True | Server 2008 R2 |  | OS-versionen av datorerna som ska köra det suddiga jobbet.
| LinuxEdition | sträng | OSPlatformType = Linux | True | Redhat |  | OS-versionen av datorerna som ska köra det suddiga jobbet.
| PreSubmissionCommand | sträng | alltid | False |  |  | Skriptet som måste köras på en test dator för att installera test mål programmet och dess beroenden innan du skickar det suddiga jobbet.
| SeedDirectory | sträng | alltid | True |  |  | Sökväg till katalogen på den suddiga datorn som innehåller frön. Mer information finns i [Dirigerings fil katalogen](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/03-choose-seed-files#seed-file-directory) .
| SeedExtension | sträng | alltid | True |  |  | Tilläggets fil namns tillägg.
| TestDriverExecutable | sträng | alltid | True |  |  | Sökvägen till den körbara mål filen på den suddiga datorn. Mer information finns i [fullständig sökväg till Epe](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/02-choose-exe#full-path-to-the-epe) .
| TestDriverExeType | Listan | alltid | True | x86 | amd64, x86 | Den körbara filens fil arkitektur.
| TestDriverParameters | sträng | alltid | True | "%testfile%" |  | Kommando rads argument som skickas till den körbara test mål filen. Observera att symbolen **"% testfile%"** , inklusive dubbla citat tecken, automatiskt ersätts med den fullständiga sökvägen till mål filen som test driv rutinen förväntas parsa och krävs. Mer information finns i [kommando rads argument](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/02-choose-exe#command-line-arguments) .
| ClosesItself | boolean | alltid | True | true |  | Kontrol lera om test driv rutinen avslutas när den har slutförts (t. ex. test driv rutinen tolkar indatafilerna och avslutas omedelbart). Avmarkera om test driv rutinen måste tvingas stängas (t. ex. om test driv rutinen är ett GUI-program vars huvud fönster är öppet när indatamängden har tolkats). Mer information finns i [självbetjäning](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/05-scope-exe-lifetime#self-termination) .
| MaxDurationInSeconds | sträng | alltid | True | 5 |  | Maximal varaktighet för test driv rutinen i sekunder. Ange en uppskattning av den längsta förväntade tiden som krävs för att mål programmet ska kunna parsa indatafilen. Den mer exakta uppskattningen, desto mer effektiv den fuzza körningen. Se [högsta förväntade körnings tid](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/05-scope-exe-lifetime#maximum-expected-execution-duration) för detaljer.
| CanRunRepeat | boolean | alltid | True | true |  | Kontrol lera om test driv rutinen kan köras upprepade gånger utan att beroende på ett beständigt/delat globalt tillstånd. Mer information finns i [köra från början](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/04-describe-exe-characteristics#runs-from-scratch) .
| CanTestDriverBeRenamed | boolean | alltid | True | false |  | Kontrol lera om den körbara test driv rutinen kan byta namn och fortfarande fungera korrekt. Mer information finns i avsnittet [kan du byta namn](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/04-describe-exe-characteristics#can-be-renamed-and-parallelized) på.
| SingleOsProcess | boolean | alltid | True | false |  | Kontrol lera om test driv rutinen körs under en enda operativ system process; Avmarkera om test driv rutinen skapar ytterligare processer. Mer information finns i [Single process](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/04-describe-exe-characteristics#single-process) .

## <a name="roslyn-analyzers-task"></a>Roslyn för analys uppgifter

| **InputType**      | **Typ**     | **Distribution**            | **Obligatoriskt** | **Standardvärde**             | **Alternativ (för List rutor)**                                   | **Beskrivning**                                                                                                                                                                                                                                                                                                                   |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| userProvideBuildInfo | Listan | alltid | True | disk | Auto, msBuildInfo | Alternativen för en användare för att tillhandahålla MSBuild-versionen, MSBuild-arkitekturen och build-kommandorad för Roslyn-analys. Om du väljer **Auto** hämtas build-information från de tidigare **MSBuild**-, **VSBuild**-och/eller **.net Core** -aktiviteterna (för build) i samma pipeline.
| msBuildVersion | Listan | userProvideBuildInfo = = msBuildInfo | True | 16,0 | 15,0, 16,0 | MSBuild-versionen.
| msBuildArchitecture | Listan | userProvideBuildInfo = = msBuildInfo | True | x86 | DotNetCore, x64, x86 | MSBuild-arkitekturen. OBS! om build-kommando raden anropar **dotNet. exe build**väljer du alternativet **via .net Core** .
| msBuildCommandline | sträng | userProvideBuildInfo = = msBuildInfo | True |  |  | Den fullständiga build-kommandoraden för att kompilera din lösning eller dina projekt.<br/><br/>Obs! kommando raden ska börja med en fullständig sökväg till **MSBuild. exe** eller **dotNet. exe**.<br/>Kommandot körs med $ (build. SourcesDirectory) som arbets katalog.
| rulesetName | Listan | alltid | False | Rekommenderas | Anpassad, ingen, rekommenderas, krävs | En namngiven ruleset som ska användas.<br/><br/>Om `Ruleset Configured In Your Visual Studio Project File(s)` väljs används den förkonfigurerade ruleset i dina vs-projektfiler. Om `Custom` väljs kan du ange ett anpassat ruleset sökvägar.
| rulesetVersion | Listan | rulesetName = = required eller rulesetName = = rekommenderas | False | Nya | 8,0, 8,1, 8,2, senaste, LatestPreRelease | Versionen av den valda SDL-ruleset.
| customRuleset | sträng | rulesetName = anpassad | False |  |  | En tillgänglig sökväg till en ruleset som ska användas. Relativa sökvägar normaliseras till roten på käll lagrings platsen (`$(Build.SourcesDirectory)`).<br/><br/>Om ruleset anger `Rules` med `Actions` inställt `Error`på, kommer build-uppgiften att Miss förfalla. Om du vill använda en ruleset som gör detta kontrollerar `Continue on error` du i build-uppgiftens `Control Options`.
| microsoftAnalyzersVersion | Listan | alltid | False | Nya | 2.9.3, 2.9.4, 2.9.6, senaste, LatestPreRelease | Den version av [Microsoft. CodeAnalysis. FxCopAnalyzers](https://www.nuget.org/packages/Microsoft.CodeAnalysis.FxCopAnalyzers) -paketet som ska köras.
| suppressionFileForCompilerWarnings | filePath | alltid | False |  |  | En undertrycks fil för att utelämna varningar från C# och VB-kompilatorn.<br/><br/>En oformaterad textfil med varje varnings-ID som anges i en separat rad.<br/>För kompilator varningar anger du bara den numeriska delen av varnings identifieraren. Till exempel 1018 ignorerar CS1018 och CA1501 kommer att förhindra CA1501.<br/><br/>En relativ fil Sök väg kommer att läggas till i roten för käll lagrings platsen`$(Build.SourcesDirectory)`().

## <a name="tslint-task"></a>TSLint-uppgift

| **InputType**      | **Typ**     | **Distribution**            | **Obligatoriskt** | **Standardvärde**             | **Alternativ (för List rutor)**                                   | **Beskrivning**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| RuleLibrary | Listan | alltid | True | tslint | anpassad, Microsoft, tslint | Alla resultat inkluderar de regler som har levererats med den valda versionen av TSLint (**endast bas**).<br/><br/>**Endast bas-** Endast regler som har levererats med TSLint.<br/><br/>**Ta med Microsoft-regler –** Laddar ned [tslint-Microsoft-contrib](https://github.com/Microsoft/tslint-microsoft-contrib) och innehåller dess regler som ska vara tillgängliga för användning i tslint-körningen. Om `Type Checking` du väljer det här alternativet döljs kryss rutan, eftersom den krävs av Microsofts regler och kommer att användas automatiskt. Dessutom visas `Microsoft Contribution Version` fältet igen, så att en version av `tslint-microsoft-contrib` från [NPM](https://www.npmjs.com/package/tslint-microsoft-contrib) kan väljas.<br/><br/>**Inkludera anpassade regler-** Visar `Rules Directory` fältet som tar emot en tillgänglig sökväg till en katalog med TSLint-regler som ska vara tillgängliga för användning i TSLint-körningen.<br/><br/>**Obs:** Standardvärdet har ändrats till tslint, så många användare har problem med att konfigurera Microsoft ruleset. För en speciell versions konfiguration kan du läsa [tslint-Microsoft-contrib på GitHub](https://github.com/microsoft/tslint-microsoft-contrib).
| RulesDirectory | sträng | RuleLibrary = = anpassad | True |  |  | En tillgänglig katalog som innehåller ytterligare TSLint-regler som ska vara tillgängliga för användning i TSLint-körningen.
| Ruleset | Listan | RuleLibrary! = Microsoft | True | tsrecommended | anpassad, tslatest, tsrecommended | Definierar de regler som ska köras mot TypeScript-filer.<br/><br/>** [tslint: senaste](https://github.com/palantir/tslint/blob/master/src/configs/latest.ts)  - ** Utökar `tslint:recommended` och uppdateras kontinuerligt för att inkludera konfiguration för de senaste reglerna i varje TSLint-version. Om du använder den här konfigurationen kan du införa bryta ändringar över mindre versioner eftersom nya regler har Aktiver ATS, vilket orsakar en rad fel i koden. När TSLint når en högre versions ojämnhet `tslint:recommended` uppdateras den så att den blir identisk `tslint:latest`med.<br/><br/>** [tslint: rekommenderas](https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts)  - ** En stabil, någorlunda påstridigt uppsättning regler som TSLint uppmuntrar till allmän TypeScript-programmering. Den här konfigurationen `semver`följer, så den kommer *inte* att ha några större ändringar i mindre eller korrigerings versioner.
| RulesetMicrosoft | Listan | RuleLibrary = = Microsoft | True | mssdlrequired | anpassad, msrecommended, mssdlrecommended, mssdlrequired, tslatest, tsrecommended | Definierar de regler som ska köras mot TypeScript-filer.<br/><br/>** [Microsoft: sdl – krävs](https://github.com/Microsoft/tslint-microsoft-contrib/wiki/TSLint-and-the-Microsoft-Security-Development-Lifecycle)  - ** Kör alla tillgängliga kontroller som tillhandahålls av tslint och tslint-Microsoft-contrib-regler som uppfyller de *nödvändiga* [sdl-principerna (Security Development Lifecycle)](https://www.microsoft.com/sdl/) .<br/><br/>** [Microsoft: sdl – rekommenderas](https://github.com/Microsoft/tslint-microsoft-contrib/wiki/TSLint-and-the-Microsoft-Security-Development-Lifecycle)  - ** Kör alla tillgängliga kontroller som tillhandahålls av tslint och tslint-Microsoft-contrib-regler som uppfyller de *nödvändiga och rekommenderade* [sdl-principerna (Security Development Lifecycle)](https://www.microsoft.com/sdl/) .<br/><br/>** [Microsoft: rekommenderat](https://github.com/Microsoft/tslint-microsoft-contrib/blob/master/recommended_ruleset.js)  - ** Alla kontroller som rekommenderas av skapare av tslint-Microsoft-contrib-regler. Detta omfattar säkerhets-och icke-säkerhetskontroller.<br/><br/>** [tslint: senaste](https://github.com/palantir/tslint/blob/master/src/configs/latest.ts)  - ** Utökar `tslint:recommended` och uppdateras kontinuerligt för att inkludera konfiguration för de senaste reglerna i varje TSLint-version. Om du använder den här konfigurationen kan du införa bryta ändringar över mindre versioner eftersom nya regler har Aktiver ATS, vilket orsakar en rad fel i koden. När TSLint når en högre versions ojämnhet `tslint:recommended` uppdateras den så att den blir identisk `tslint:latest`med.<br/><br/>** [tslint: rekommenderas](https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts)  - ** En stabil, någorlunda påstridigt uppsättning regler som TSLint uppmuntrar till allmän TypeScript-programmering. Den här konfigurationen `semver`följer, så den kommer *inte* att ha några större ändringar i mindre eller korrigerings versioner.
| RulesetFile | sträng | Ruleset = = Custom eller RulesetMicrosoft = = Custom | True |  |  | En [konfigurations fil](https://palantir.github.io/tslint/usage/cli/) som anger vilka regler som ska köras.<br/><br/>Sökvägen till konfigurationen kommer att läggas till som sökväg för [anpassade regler](https://palantir.github.io/tslint/develop/custom-rules/).
| FileSelectionType | Listan | alltid | True | fileGlob | fileGlob, projectFile | 
| Filer | sträng | FileSelectionType = = fileGlob | True | **\*. TS |  | En fil- [BLOB](https://www.npmjs.com/package/glob) som avgör vilken eller vilka filer som ska bearbetas. Sökvägar är i förhållande `Build.SourcesDirectory` till värdet.<br/><br/>Microsofts bidrags bibliotek kräver att en projekt fil används. Om du använder Microsofts bidrags bibliotek med `File Glob Pattern` alternativet genereras en projekt fil åt dig.
| ECMAScriptVersion | Listan | FileSelectionType = = fileGlob && RuleLibrary = = Microsoft | True | ES3 | ES2015, ES2016, ES2017, ES3, ES5, ES6, ESNext | Mål versionen av ECMAScript som har kon figurer ATS med TypeScript-kompilatorn. När du använder en projekt fil är det här fältet compilerOptions. Target i din TypeScript tsconfig. JSON-fil.
| Project | sträng | FileSelectionType = = projectFile | True |  |  | Sökväg till en [tsconfig. JSON](http://www.typescriptlang.org/docs/handbook/tsconfig-json.html) -fil som anger typescript-filer för att köra TSLint på. Sökvägar är i förhållande `Build.SourcesDirectory` till värdet.
| TypeCheck | boolean | RuleLibrary! = Microsoft && FileSelectionType = = projectFile | False | true |  | Aktiverar text kontrollen när du kör regler för att köra regler.
| ExcludeFiles | sträng | alltid | False |  |  | En [BLOB](https://www.npmjs.com/package/glob) som anger filer som ska uteslutas från en luddfri. Sökvägar är i förhållande `Build.SourcesDirectory` till värdet. Flera värden kan anges avgränsade med semikolon.
| OutputFormat | Listan | alltid | True | json | checkstyle, codeFrame, filesList, JSON, MSBuild, PMD, Prose, stilfull, verbose, VSO | Den [formatering](https://palantir.github.io/tslint/formatters/) som ska användas för att generera utdata. Observera att JSON-formatet är kompatibelt med post analys.
| NodeMemory | sträng | alltid | False |  |  | En explicit mängd minne i MB att allokera till nod för att köra TSLint. Exempel: 8000<br/><br/>Mappar till `--max_old_space=<value>` CLI-alternativet för Node, som är en `v8 option`.
| ToolVersion | Listan | RuleLibrary! = Microsoft | True | senaste | 4.0.0, 4.0.1, 4.0.2, 4.1.0, 4.1.1, 4.2.0, 4.3.0, 4.3.1, 4.4.0, 4.4.1, 4.4.2, 4.5.0, 4.5.1, 5.0.0, 5.1.0, 5.2.0, 5.3.0, 5.3.2, 5.4.0, 5.4.1, 5.4.2, 5.4.3, 5.5.0, senaste | Den [version](https://github.com/palantir/tslint/releases) av TSLint som ska hämtas och köras.
| TypeScriptVersion | Listan | alltid | True | senaste | 0.8.0, 0.8.1, 0.8.2, 0.8.3, 0.9.0, 0.9.1 till och, 0.9.5, 0.9.7, 1.0.0, 1.0.1, 1.3.0, 1.4.1, 1.5.3, 1.6.2, 1.7.3, 1.7.5, 1.8.0, 1.8.10, 1.8.2, 1.8.5, 1.8.6, 1.8.7, 1.8.9, 1.9.0, 2.0.0, 2.0.10, 2.0.2, 2.0.3, 2.0.6, 2.0.7, 2.0.8, 2.0.9, 2.1.4, 2.2.1, anpassad och senaste | Den version av [typescript](https://www.npmjs.com/package/typescript) som ska hämtas och användas.<br/>**Obs:** Detta måste vara samma version av TypeScript som används för att kompilera koden.
| TypeScriptVersionCustom | sträng | TypeScriptVersion = = anpassad | True | senaste |  | Den version av [typescript](https://www.npmjs.com/package/typescript) som ska hämtas och användas.<br/>**Obs:** Detta måste vara samma version av TypeScript som används för att kompilera koden.
| MicrosoftContribVersion | Listan | RuleLibrary = = Microsoft |  | senaste | 4.0.0, 4.0.1, 5.0.0, 5.0.1, senaste | Versionen av [tslint-Microsoft-contrib](https://www.npmjs.com/package/tslint-microsoft-contrib) (sdl-regler) som ska hämtas och användas.</br>**Obs:** Versionen av [tslint](https://www.npmjs.com/package/tslint) väljs som är kompatibel med den version som valts för tslint-Microsoft-contrib. Uppdateringar av tslint-Microsoft-contrib kommer att kopplas till den här bygg aktiviteten tills en test period kan utföras.

## <a name="publish-security-analysis-logs-task"></a>Aktiviteten publicera säkerhets analys loggar

| **InputType**      | **Typ**     | **Distribution**            | **Obligatoriskt** | **Standardvärde**             | **Alternativ (för List rutor)**                                   | **Beskrivning**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ArtifactName | sträng | alltid | True | CodeAnalysisLogs |  | Namnet på artefakten som ska skapas.
| ArtifactType | Listan | alltid | True | Container | Behållare, fil Sök väg | Typ av artefakt som ska skapas.
| TargetPath | sträng | ArtifactType = sökväg | False | \\my\share\$(build. DefinitionName)<br>\$(Build. BuildNumber) |  | Fil resursen dit filerna ska kopieras
| AllTools | boolean | alltid | True | true |  | Publicera resultat som skapats av alla säkra utvecklings verktyg skapa uppgifter.
| Skadlig kod | boolean | AllTools = falskt | True | true |  | Publicera resultat som skapats av bygg aktiviteter för program mot skadlig kod.
| BinSkim | boolean | AllTools = falskt | True | true |  | Publicera resultat som genererats av BinSkim build-uppgifter.
| CredScan | boolean | AllTools = falskt | True | true |  | Publicera resultat som skapats av sökverktyg för att skapa autentiseringsuppgifter.
| MSRD | boolean | AllTools = falskt | True | true |  | Publicera jobb information och jobb-URL: er för MSRD-jobb som startas av MSRD build-aktiviteten. MSRD-jobb körs länge och ger separata rapporter.
| RoslynAnalyzers | boolean | AllTools = falskt | True | false |  | Publicera resultat som genererats av Roslyn-analysers Bygg uppgifter.
| TSLint | boolean | AllTools = falskt | True | true |  | Publicera resultat som genererats av TSLint build-uppgifter. Observera att endast TSLint-loggar i JSON-format stöds för-rapporter. Om du har valt ett annat format kan du uppdatera din TSLint build-åtgärd enligt detta.
| ToolLogsNotFoundAction | listan | alltid | True | Standard | Fel, ingen, standard, varning | Den åtgärd som ska vidtas när loggar för ett valt verktyg (eller ett verktyg om alla verktyg är markerat) inte hittas, vilket innebär att verktyget inte kördes.<br/><br/>**Sätt**<br/>**Ingen:** Meddelandet skrivs till utförliga utdata endast genom att ställa in variabeln VSTS **. debug** till **True**.<br/>**Standard:** (standard) skriver ett standard meddelande om att inga loggar hittades för verktyget.<br/>**Varning:** Skriver ett gult varnings meddelande om att inga loggar hittades för verktyget, som visas på sidan Skapa sammanfattning som en varning.<br/>**Fel:** Skriver ett rött fel meddelande och genererar ett undantag och bryter versionen. Använd det här alternativet för att se till att de verktyg som har körts är säkra med alternativen för enskilda verktyg.

## <a name="security-report-task"></a>Säkerhets rapports aktivitet

| **InputType**      | **Typ**     | **Distribution**            | **Obligatoriskt** | **Standardvärde**             | **Alternativ (för List rutor)**                                   | **Beskrivning**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| VstsConsole | boolean | alltid | False | true |  | Skriv resultat till pipeline-konsolen.
| TsvFile | boolean | alltid | False | true |  | Generera en TSV-fil (Tabbavgränsade värden) med en rad per hittade resultat och tabbar åtskiljer information för resultatet.
| HtmlFile | boolean | alltid | False | true |  | Generera en HTML-rapport fil.
| AllTools | boolean | alltid | True | false |  | Rapportera resultat som genererats av alla säkra utvecklings verktyg skapa uppgifter.
| BinSkim | boolean | AllTools = falskt | True | false |  | Rapportera resultat som genererats av BinSkim Bygg-aktiviteter.
| BinSkimBreakOn | Listan | AllTools = true eller BinSkim = True | True | Fel | Fel, WarningAbove | Resultat nivån som ska rapporteras.
| CredScan | boolean | AllTools = falskt | True | false |  | Rapportera resultat som genererats av en referens till skannerns Bygg aktiviteter.
| MSRD | boolean | AllTools = falskt | True | false |  | Rapportera jobb information och jobb-URL: er för MSRD-jobb som startas av MSRD build-aktiviteten. MSRD-jobb körs länge och ger separata rapporter.
| RoslynAnalyzers | boolean | AllTools = falskt | True | false |  | Rapport resultat som genererats av Roslyn Analyzer-byggen.
| RoslynAnalyzersBreakOn | Listan | AllTools = true eller RoslynAnalyzers = True | True | Fel | Fel, WarningAbove | Resultat nivån som ska rapporteras.
| TSLint | boolean | AllTools = falskt | True | false |  | Rapportera resultat som genererats av TSLint Bygg-aktiviteter. Observera att endast TSLint-loggar i JSON-format stöds för-rapporter. Om du har valt ett annat format kan du uppdatera din TSLint build-åtgärd enligt detta.
| TSLintBreakOn | Listan | AllTools = true eller TSLint = True | True | Fel | Fel, WarningAbove | Resultat nivån som ska rapporteras.
| ToolLogsNotFoundAction | listan | alltid | True | Standard | Fel, ingen, standard, varning | Den åtgärd som ska vidtas när loggar för ett valt verktyg (eller ett verktyg om alla verktyg är markerat) inte hittas, vilket innebär att verktyget inte kördes.<br/><br/>**Sätt**<br/>**Ingen:** Meddelandet skrivs till utförliga utdata endast genom att ställa in variabeln VSTS **. debug** till **True**.<br/>**Standard:** (standard) skriver ett standard meddelande om att inga loggar hittades för verktyget.<br/>**Varning:** Skriver ett gult varnings meddelande om att inga loggar hittades för verktyget, som visas på sidan Skapa sammanfattning som en varning.<br/>**Fel:** Skriver ett rött fel meddelande och genererar ett undantag och bryter versionen. Använd det här alternativet för att se till att de verktyg som har körts är säkra med alternativen för enskilda verktyg.
| CustomLogsFolder | sträng | alltid | False |  |  | Den grundläggande mappen där analys verktyg loggar finns. de enskilda loggfilerna kommer att finnas i undermappar med namnet efter varje verktyg, under den här sökvägen.

## <a name="post-analysis-task"></a>Uppgift efter analys

| **InputType**      | **Typ**     | **Distribution**            | **Obligatoriskt** | **Standardvärde**             | **Alternativ (för List rutor)**                                   | **Beskrivning**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| AllTools | boolean | alltid | True | false |  | Bryt build-versionen om några problem upptäcks av en Microsoft Security code Analysis build-uppgift.
| BinSkim | boolean | AllTools = falskt | True | false |  | Bryt build-versionen om några BinSkim-problem påträffas, enligt alternativet avbrotts alternativ som du har valt.
| BinSkimBreakOn | Listan | AllTools = true eller BinSkim = True | True | Fel | Fel, WarningAbove | Nivån på de problem som ska avbryta bygget.
| CredScan | boolean | AllTools = falskt | True | false |  | Bryt ned versionen om det finns problem med skannern för autentiseringsuppgifter.
| RoslynAnalyzers | boolean | AllTools = falskt | True | false |  | Bryt build-versionen om det finns problem med Roslyn-analys.
| RoslynAnalyzersBreakOn | Listan | AllTools = true eller RoslynAnalyzers = True | True | Fel | Fel, WarningAbove | Nivån på de problem som ska avbryta bygget.
| TSLint | boolean | AllTools = falskt | True | false |  | Bryt build om några TSLint problem påträffas. Observera att endast TSLint-loggar i JSON-format stöds för post analys. Om du har valt ett annat format kan du uppdatera din TSLint build-åtgärd enligt detta.
| TSLintBreakOn | Listan | AllTools = true eller TSLint = True | True | Fel | Fel, WarningAbove | Nivån på de problem som ska avbryta bygget.
| VstsConsole | boolean | alltid | False | true |  | Skriv resultat till pipeline-konsolen.
| ToolLogsNotFoundAction | listan | alltid | True | Standard | Fel, ingen, standard, varning | Den åtgärd som ska vidtas när loggar för ett valt verktyg (eller ett verktyg om alla verktyg är markerat) inte hittas, vilket innebär att verktyget inte kördes.<br/><br/>**Sätt**<br/>**Ingen:** Meddelandet skrivs till utförliga utdata endast genom att ställa in variabeln VSTS **. debug** till **True**.<br/>**Standard:** (standard) skriver ett standard meddelande om att inga loggar hittades för verktyget.<br/>**Varning:** Skriver ett gult varnings meddelande om att inga loggar hittades för verktyget, som visas på sidan Skapa sammanfattning som en varning.<br/>**Fel:** Skriver ett rött fel meddelande och genererar ett undantag och bryter versionen. Använd det här alternativet för att se till att de verktyg som har körts är säkra med alternativen för enskilda verktyg.

## <a name="next-steps"></a>Nästa steg

Om du har fler frågor om tillägget för säkerhets kod analys och de verktyg som erbjuds, kan du kolla in [vår vanliga frågor och svar](security-code-analysis-faq.md).