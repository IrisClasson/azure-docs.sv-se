---
title: Anpassningsguide för Microsoft Azure Security Code Analysis
description: I den här artikeln beskrivs yaml-konfigurationsalternativ för att anpassa alla uppgifter i tillägget Microsoft Security Code Analysis
author: vharindra
manager: sukhans
ms.author: terrylan
ms.date: 11/29/2019
ms.topic: article
ms.service: security
services: azure
ms.assetid: 521180dc-2cc9-43f1-ae87-2701de7ca6b8
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.openlocfilehash: 82802ceae8f9fdd24d1f5642d80d90ebfd8b92a3
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 03/27/2020
ms.locfileid: "75460667"
---
# <a name="yaml-configuration-options-to-customize-the-build-tasks"></a>YAML-konfigurationsalternativ för att anpassa bygguppgifterna

I den här artikeln visas alla YAML-konfigurationsalternativ som är tillgängliga i var och en av byggaktiviteterna. Artikeln börjar med uppgifterna för verktyg för analys av säkerhetskod. Det slutar med efterbearbetningsuppgifterna.

## <a name="anti-malware-scanner-task"></a>Uppgift mot skadlig kod skanner

| **InputType (Inmatningstyp)**      | **Typ**     | **Tillämpliga**            | **Obligatoriskt** | **Standardvärdet**             | **Alternativ (för plocklistor)**                                   | **Beskrivning**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| InputType (Inmatningstyp) | Plocklista | alltid | True | Basic | Grundläggande, anpassad | 
| ScanType (scantyp) | Plocklista | InputType = Grundläggande | True | CustomScan (CustomScan) | CustomScan, FullSystemScan, QuickScan, YourConfiguredScan | Den skanningstyp som ska användas för AntiMalware-skanningen.
| FileDirPath | Filepath | ScanType = CustomScan | True | $(Build.StagingDirectory) |  | Anger vilken fil eller katalog som ska genomsökas.
| InaktiveraRemediering | boolean | ScanType = CustomScan | False | true |  | När markerad: 1) Filuteslutning ignoreras. 2) Arkivfiler skannas. 3) Åtgärder tillämpas inte efter upptäckt. 4) Händelseloggposter skrivs inte efter identifiering. 5) Identifieringar från den anpassade genomsökningen visas inte i användargränssnittet. 6) Konsolen produktionen kommer att visa listan över upptäckter från den anpassade genomsökningen.
| BootSectorScan | boolean | ScanType = CustomScan | False | false |  | Om markerad aktiveras skanning av startsektorer.
| Argument | sträng | InputType = Anpassad | True | -Scan -ScanType 3 -DisableRemediation -File $(Build.StagingDirectory) |  | Kommandoradsargumenten, där argumentet för -Fil är en absolut sökväg, eller en relativ sökväg till den fördefinierade $(Build.StagingDirectory) på din byggagent. Om du inte anger ett argument för -Arkiv som det sista argumentet används som standard $(Build.StagingDirectory). Du kan också ange egna argument som tillåts av verktyget MpCmdRun.exe.<br/><br/>Om du vill ha mer information om kommandoradsargumenten för det här verktyget anger du <strong>-h</strong> eller <strong>-?</strong> i fältet Argument och kör bygguppgiften.
| AktiveraTjänster | boolean | alltid | True | false |  | Om markerad försöker den aktivera de tjänster som krävs för Windows Update om de inaktiveras.<br/>**Se**till att grupprincipen inte inaktiverar tjänsterna och att kontot som den här versionen körs under har administratörsbehörighet.
| SupportLogOnError | boolean | alltid | True | false |  | Om markerad samlar den in supportfilerna för diagnos när ett fel inträffade. Det här kan ta flera minuter.<br/>**OBS:** Se till att kontot som den här versionen körs under har administratörsbehörighet.
| TreatSignatureUpdateFailureAs | Plocklista | alltid | True | Varning | Fel, Standard, Varning | Den loggnivå som används om signaturen inte kan uppdateras vid körning. När den är inställd på **Fel**misslyckas en fel att uppdatera signaturen byggaktiviteten. Observera att det är vanligt att signaturuppdateringen misslyckas med värdbaserade byggagenter, även om signaturen kan vara relativt aktuell (mindre än 3 timmar gammal).
| SignaturFreshness | Plocklista | alltid | True | Uptodate | OneDay, ThreeDays, TwoDays, UpToDate | Den högsta tillåtna åldern för AntiMalware-signaturen. Om signaturen inte kan uppdateras och är äldre än det här värdet, kommer byggaktiviteten att fungera enligt det valda värdet i fältet **Validera signaturer ålder som.** Om du väljer **Up-To Date**får signaturerna vara upp till 3 timmar gamla.
| TreatStaleSignatureAs | Plocklista | alltid | True | Fel | Fel, Standard, Varning | Loggnivån som används om signaturåldern är äldre än den valda **AntiMalware Signature Age**. En inaktuell signatur kan behandlas som en **varning** eller **information för** att fortsätta med AntiMalware-genomsökningen, men detta rekommenderas inte.

## <a name="binskim-task"></a>BinSkim-uppgift

| **InputType (Inmatningstyp)**      | **Typ**     | **Tillämpliga**            | **Obligatoriskt** | **Standardvärdet**             | **Alternativ (för plocklistor)**                                   | **Beskrivning**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| InputType (Inmatningstyp) | Plocklista | alltid | True | Basic | Grundläggande, Kommandorad | 
| Argument | sträng | InputType = Kommandorad | True |  |  | Standardargument för kommandoraden Standard Binskim som ska köras. Utdatasökvägen tas bort och ersätts.<br>Om du vill ha mer information om kommandoradsargumenten för det här verktyget anger du **hjälp** i fältet Argument och kör bygguppgiften.
| Funktion | Plocklista | InputType = Grundläggande | True | Analysera | analysera, dumpa, exporteraConfig, exportRules | 
| AnalyseraMål | Filepath | InputType = Grundläggande && funktion = analysera | True | $(Build.ArtifactStagingDirectory)\*.dll;<br>$(Build.artifactStagingDirectory)\*.exe |  | En eller flera specificerare till en fil, katalog eller filtermönster som matchas till en eller flera binärfiler att analysera. (';'separat lista)
| AnalyseraSymPath | sträng | InputType = Grundläggande && funktion = analysera | False |  |  | Sökväg till symbolfilen för målet.
| AnalyseraConfigPath | sträng | InputType = Grundläggande && funktion = analysera | False | standard |  | Sökväg till en principfil som ska användas för att konfigurera analys. Skicka värdet "standard" för att använda inbyggda inställningar.
| AnalyseraPluginPath | sträng | InputType = Grundläggande && funktion = analysera | False |  |  | Sökväg till ett plugin-program som kommer att anropas mot alla mål i analysuppsättningen.
| AnalyseraRecurse | boolean | InputType = Grundläggande && funktion = analysera | False | true |  | Upprepas i underkataloger när filspecificeringsargument utvärderas.
| AnalyseraVerbose | boolean | InputType = Grundläggande && funktion = analysera | False | false |  | Avge utförlig utgång. Den omfattande rapporten som blir resultatet är utformad för att ge lämpliga bevis för efterlevnadsscenarier.
| AnalyseraHashes | boolean | InputType = Grundläggande && funktion = analysera | False | false |  | Output SHA-256 hash av analysmål vid avgivande SARIF rapporter.
| AnalyseraStatistik | boolean | InputType = Grundläggande && funktion = analysera | False | false |  | Generera timing och annan statistik för analyssession.
| AnalyseraMiljö | boolean | InputType = Grundläggande && funktion = analysera | False | false |  | Information om loggmaskinsmiljö för körning till utdatafil. VARNING: Det här alternativet registrerar potentiellt känslig information (t.ex. alla miljövariabelvärden) till alla utgivna loggar.
| ExporteraRulesOutputType | Plocklista | InputType = Grundläggande && funktion = exportRules | False | SARIF (se/ | SARIF, SonarQube | Den typ av regler som beskriver fil till utdata. Detta kommer att inkluderas i mappen BinSkim-loggar som publiceras av aktiviteten Skapa för publiceringssäkerhetsanalysloggar.
| DumpaReget | Filepath | InputType = Grundläggande && funktion = dumpa | True | $(Build.artifactStagingDirectory) |  | En eller flera specificerare till en fil, katalog eller filtermönster som matchas till en eller flera binärfiler att analysera. (';'separat lista)
| DumpaRecurse | boolean | InputType = Grundläggande && funktion = dumpa | False | true |  | Upprepas i underkataloger när filspecificeringsargument utvärderas.
| DumpaVerbose | boolean | InputType = Grundläggande && funktion = dumpa | False | true |  | Avge utförlig utgång. Den omfattande rapporten som blir resultatet är utformad för att ge lämpliga bevis för efterlevnadsscenarier.
| verktygVersion | Plocklista | alltid | False | Senaste | 1.5.0, Senaste, SenastePreRelease | Den version av verktyget som ska köras.

## <a name="credential-scanner-task"></a>Autentiseringsskanneruppgift

| **InputType (Inmatningstyp)**      | **Typ**     | **Tillämpliga**            | **Obligatoriskt** | **Standardvärdet**             | **Alternativ (för plocklistor)**                                   | **Beskrivning**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| outputFormat | Plocklista | alltid | False | pre | csv, före, tsv | Utdataformatet för resultatfilen för autentiseringsläsare.
| verktygVersion | Plocklista | alltid | False | Senaste | 1.27.7, Senaste, SenastePreRelease | Den version av verktyget som ska köras.
| scanFolder | Filepath | alltid | False | $(Build.SourcesDirectory) |  | Mappen i databasen för att söka efter autentiseringsuppgifter.
| sökareFileType | Plocklista | alltid | False | Default | Anpassad, Standard, StandardOchCustom | Alternativ för att hitta sökfilen som används för skanning.
| sökareFile | Filepath | sökareFileType == Anpassad ELLER sökareFileType == StandardAndCustom | False |  |  | Konfigurationsfilen för autentiseringsläsare söker efter kontroller som ska köras. Flera värden kan inkluderas och användas genom att tillhandahålla en kommaavgränsad lista över sökvägar till autentiseringsuppgifter Scanner searchers filer.
| dundertryckningarFil | Filepath | alltid | False |  |  | Den autentiseringsskanner dämpningar fil som ska användas för att undertrycka problem i utdataloggen.
| undertryckaAsError | boolean | alltid | False | false |  | Undertryckta matchningar kommer att matas ut till utdatafilen [-O]-matchningar. [-f] i stället för standardundertryckt utdatafil [-O]-undertryckt. [-f]. (Standardvärdet till "Falskt")
| verboseOutput | boolean | alltid | False | false |  | Utdata utför detaljerad information.
| batchSize | sträng | alltid | False |  |  | Antalet samtidiga trådar som används för att köra Autentiseringsläsare parallellt. (Standard till 20)<br/>Värdet måste ligga inom intervallet 1-2147483647.
| regexMatchTimeoutInSeconds regexMatchTimeoutInSeconds regexMatchTimeoutInSeconds regex | sträng | alltid | False |  |  | Hur lång tid i sekunder du kan spendera på att försöka matcha en sökare innan du överger checken.<br/>Lägger ``-Co RegexMatchTimeoutInSeconds=<Value>`` till på kommandoraden.
| filScanReadBufferSize | sträng | alltid | False |  |  | Buffertstorlek när du läser innehåll i byte. (Standard till 524288)<br/>Lägger ``-Co FileScanReadBufferSize=<Value>`` till på kommandoraden.
| maxFileScanReadBytes | sträng | alltid | False |  |  | Maximalt antal byte som ska läsas från en viss fil under innehållsanalys. (Standard till 104857600)<br/>Lägger ``-Co MaxFileScanReadBytes=<Value>`` till på kommandoraden.

## <a name="microsoft-security-risk-detection-task"></a>Uppgift för identifiering av säkerhetsrisk

| **InputType (Inmatningstyp)**      | **Typ**     | **Tillämpliga**            | **Obligatoriskt** | **Standardvärdet**             | **Alternativ (för plocklistor)**                                   | **Beskrivning**                                                                                                                                                                                                                                                                           |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ServiceEndpointName | connectedService:Allmänt | alltid | True |  |  | Namnet på den förkonfigurerade tjänstslutpunkten (allmän typ) i VSTS-projektet som lagrar MSRD-instans-URL:en (du har onboarded till) och REST API-åtkomsttoken (som genererades från sidan kontoinställningar och ger fullständig åtkomst till ditt konto).
| AccountId | sträng | alltid | True |  |  | GUID identifierar kontot. Den kan hämtas från konto-URL:en.
| BinärerURL | sträng | alltid | True |  |  | En semikolonavgränsad lista över webbadresser som ska användas av den luddiga datorn för att hämta binärfilerna. Se till att webbadresserna är allmänt tillgängliga.
| SeedsURL (FrönURL) | sträng | alltid | False |  |  | En semikolonavgränsad lista över webbadresser som ska användas av fuzzing-maskinen för att hämta fröna. Kontrollera att webbadresserna är tillgängliga för allmänheten.
| OSPlatformType | Plocklista | alltid | True | Windows | Linux, Windows | Os-plattformstypen av datorer som ska köras på.
| WindowsEdition (WindowsEdition) | sträng | OSPlatformType = Windows | True | Server 2008 R2 |  | OS-utgåvan av maskiner som ska köras på luddigt jobbet.
| LinuxEdition (LinuxEdition) | sträng | OSPlatformType = Linux | True | Redhat |  | OS-utgåvan av maskiner som ska köras på luddigt jobbet.
| PreSubmissionCommand | sträng | alltid | False |  |  | Skriptet som måste köras på en testdator för att installera testmålprogrammet och dess beroenden innan det luddiga jobbet skickas.
| SeedDirectory | sträng | alltid | True |  |  | Sökväg till katalogen på den luddiga maskin som innehåller fröna. Mer information finns [i filkatalogen för utsände.](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/03-choose-seed-files#seed-file-directory)
| SeedExtension | sträng | alltid | True |  |  | Filförlängningen av fröna.
| TestDriverExecutable | sträng | alltid | True |  |  | Sökväg till den körbara målsökaren på fuzzing-datorn. Mer information [finns i Fullständig sökväg till EPE.](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/02-choose-exe#full-path-to-the-epe)
| TestDriverExeType | Plocklista | alltid | True | x86 | amd64, x86 | Den körbara filarkitekturen för målet.
| TestDriverParametrar | sträng | alltid | True | "%testfile%" |  | Kommandoradsargument som skickades till det körbara testets mål. Observera att symbolen **%testfile%,** inklusive de dubbla citaten, automatiskt ersätts med den fullständiga sökvägen till målfilen som testdrivrutinen förväntas tolka och krävs. Mer information finns i [Kommandoradsargument.](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/02-choose-exe#command-line-arguments)
| Stänger Sig själv | boolean | alltid | True | true |  | Kontrollera om testdrivrutinen avslutar sig när den är klar (t.ex. tolkar testdrivrutinen indatafilerna och avslutas omedelbart). Avmarkera om testdrivrutinen behöver stängas med våld (t.ex. är testdrivrutinen ett GUI-program vars huvudfönster förblir öppet efter tolkning av ingången). Se [Självuppsägning](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/05-scope-exe-lifetime#self-termination) för mer information.
| MaxDurationInSeconds | sträng | alltid | True | 5 |  | Testdrivrutinens maximala varaktighet på några sekunder. Ge en uppskattning av den längsta rimligen förväntade tid som krävs för att målprogrammet ska tolka en indatafil. Ju mer exakt denna uppskattning, desto effektivare fuzzing run. Se [Maximal förväntad körningstid](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/05-scope-exe-lifetime#maximum-expected-execution-duration) för detaljer.
| CanRunRepeat (kan Räta upp) | boolean | alltid | True | true |  | Kontrollera om testdrivrutinen kan köras upprepade gånger utan att det finns ett beständigt/delat globalt tillstånd. Mer information [finns i Runs from scratch.](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/04-describe-exe-characteristics#runs-from-scratch)
| CanTestDriverBeRenamed | boolean | alltid | True | false |  | Kontrollera om körbar testdrivrutin kan döpas om och fortfarande kan fungera korrekt. Se [Kan döpas om och parallelliseras](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/04-describe-exe-characteristics#can-be-renamed-and-parallelized) för mer information.
| SingleOsProcess | boolean | alltid | True | false |  | Kontrollera om testdrivrutinen körs under en enda OS-process. Avmarkera om testdrivrutinen ger upphov till ytterligare processer. Se [En process](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/04-describe-exe-characteristics#single-process) för mer information.

## <a name="roslyn-analyzers-task"></a>Roslyn Analyzers uppgift

| **InputType (Inmatningstyp)**      | **Typ**     | **Tillämpliga**            | **Obligatoriskt** | **Standardvärdet**             | **Alternativ (för plocklistor)**                                   | **Beskrivning**                                                                                                                                                                                                                                                                                                                   |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| användareProvideBuildInfo | Plocklista | alltid | True | Auto | auto, msBuildInfo | Alternativ för en användare att tillhandahålla MSBuild-versionen, MSBuild-arkitekturen och skapa kommandoraden för Roslyn-analys. Om **Auto** är markerat hämtar den här aktiviteten bygginformationen från tidigare **MSBuild-,** **VSBuild-** och/eller **.NET Core-aktiviteter** (för bygg) i samma pipeline.
| msBuildVersion (msBuildVersion) | Plocklista | användareProvideBuildInfo == msBuildInfo | True | 16.0 | 15.0, 16.0 | MSBuild-versionen.
| msBuildArchitecture (msBuildArchitecture) | Plocklista | användareProvideBuildInfo == msBuildInfo | True | x86 | DotNetCore, x64, x86 | MSBuild-arkitekturen. Om build-kommandoraden anropar **dotnet.exe-versionen**väljer du alternativet **Via .Net Core.**
| msBuildCommandline | sträng | användareProvideBuildInfo == msBuildInfo | True |  |  | Den fullständiga byggkommandoraden för kompilering av din lösning eller dina projekt.<br/><br/>Anteckningar: Kommandoraden ska börja med en fullständig sökväg till **MSBuild.exe** eller **dotnet.exe**.<br/>Kommandot körs med $(Build.SourcesDirectory) som arbetskatalog.
| rulesetName (rulesetName) | Plocklista | alltid | False | Rekommenderas | Anpassad, Ingen, Rekommenderas, Krävs | En namngiven regeluppsättning som ska användas.<br/><br/>Om `Ruleset Configured In Your Visual Studio Project File(s)` du väljer det här reglerna används de förkonfigurerade regeluppsättningarna i VS-projektfilerna. Om `Custom` du väljer det här alternativet kan ett anpassat sökvägsalternativ för regeluppsättning ställas in.
| rulesetVersion (rulesetVersion) | Plocklista | rulesetName == Obligatoriskt ELLER rulesetName == Rekommenderas | False | Senaste | 8.0, 8.1, 8.2, Senaste, SenastePreRelease | Versionen av den valda SDL-regeluppsättningen.
| customRuleset | sträng | rulesetName = Anpassad | False |  |  | En tillgänglig sökväg till en regeluppsättning som ska användas. Relativa sökvägar normaliseras till källdatabasens`$(Build.SourcesDirectory)`rot ( ).<br/><br/>Om regeluppsättningen `Rules` anger `Actions` med `Error`inställd på misslyckas byggaktiviteten. Om du vill använda en regeluppsättning som gör detta kontrollerar `Continue on error` du bygguppgiftens `Control Options`.
| microsoftAnalyzersVersion | Plocklista | alltid | False | Senaste | 2.9.3, 2.9.4, 2.9.6, Senaste, SenastePreRelease | Den version av [Microsoft.CodeAnalysis.FxCopAnalyzers](https://www.nuget.org/packages/Microsoft.CodeAnalysis.FxCopAnalyzers) paketet som ska köras.
| suppressionFileForCompilerWarnings | Filepath | alltid | False |  |  | En dämpningar fil för att undertrycka C # och VB kompilator varningar.<br/><br/>En oformaterad textfil med varje varnings-ID listade en en separat rad.<br/>För kompilatorvarningar anger du bara den numeriska delen av varningsidentifieraren. Till exempel 1018 kommer att undertrycka CS1018 och CA1501 kommer att undertrycka CA1501.<br/><br/>En relativ filsökväg läggs till i källdatabasens rot (`$(Build.SourcesDirectory)`).

## <a name="tslint-task"></a>TSLint-uppgift

| **InputType (Inmatningstyp)**      | **Typ**     | **Tillämpliga**            | **Obligatoriskt** | **Standardvärdet**             | **Alternativ (för plocklistor)**                                   | **Beskrivning**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| RegelBibliotek | Plocklista | alltid | True | tslint (tslint) | anpassade, Microsoft, tslint | Alla resultat inkluderar de regler som levereras med den valda versionen av TSLint (**Endast bas**).<br/><br/>**Endast bas -** Endast reglerna levereras med TSLint.<br/><br/>**Inkludera Microsoft-regler -** Hämtar [tslint-microsoft-contrib](https://github.com/Microsoft/tslint-microsoft-contrib) och innehåller dess regler för att vara tillgängliga för användning i TSLint-körningen. Om du väljer `Type Checking` det här alternativet döljs kryssrutan, eftersom den krävs enligt Microsofts regler och används automatiskt. Det tar också `Microsoft Contribution Version` upp fältet, vilket `tslint-microsoft-contrib` gör att en version av från [npm](https://www.npmjs.com/package/tslint-microsoft-contrib) som ska väljas.<br/><br/>**Inkludera anpassade regler -** Ta fram `Rules Directory` fältet, som accepterar en tillgänglig sökväg till en katalog med TSLint-regler som ska vara tillgängliga för användning i TSLint-körningen.<br/><br/>**Anm.:** Standardvärdet har ändrats till tslint, eftersom många användare har haft problem med att konfigurera Microsofts regeluppsättning. Specifik versionskonfiguration finns i [tslint-microsoft-contrib på GitHub](https://github.com/microsoft/tslint-microsoft-contrib).
| ReglerRiktande | sträng | RuleLibrary == anpassad | True |  |  | En tillgänglig katalog som innehåller ytterligare TSLint-regler som ska vara tillgängliga för användning i TSLint-körningen.
| Regeluppsättning | Plocklista | RegelBibliotek != microsoft | True | tsrecom ändras | anpassade, tslatest, tsrecom rekommenderas | Definierar de regler som ska köras mot TypeScript-filer.<br/><br/>** [tslint:senaste](https://github.com/palantir/tslint/blob/master/src/configs/latest.ts)  - ** Utökar `tslint:recommended` och uppdateras kontinuerligt för att inkludera konfiguration för de senaste reglerna i varje TSLint-version. Med hjälp av denna config kan införa bryta ändringar över mindre versioner som en ny regler är aktiverade som orsakar ludd fel i koden. När TSLint når en huvudversion bump, `tslint:recommended` kommer `tslint:latest`att uppdateras för att vara identisk med .<br/><br/>** [tslint:rekommenderas](https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts)  - ** En stabil, något påstridig uppsättning regler som TSLint uppmuntrar för allmän TypeScript-programmering. Den här `semver`konfigurationen följer , så att den *inte* kommer att ha bryta ändringar över mindre eller patch utgåvor.
| ReglerMicrosoft | Plocklista | RegelBibliotek == microsoft | True | mssdlrequired | anpassade, msrecommended, mssdlrecommended, mssdlrequired, tslatest, tsrecommended | Definierar de regler som ska köras mot TypeScript-filer.<br/><br/>** [microsoft:sdl-obligatoriskt](https://github.com/Microsoft/tslint-microsoft-contrib/wiki/TSLint-and-the-Microsoft-Security-Development-Lifecycle)  - ** Kör alla tillgängliga kontroller som tillhandahålls av tslint- och tslint-microsoft-contrib-reglerna som uppfyller *de* [nödvändiga SDL-principerna (Security Development Lifecycle).](https://www.microsoft.com/sdl/)<br/><br/>** [microsoft:sdl-rekommenderas](https://github.com/Microsoft/tslint-microsoft-contrib/wiki/TSLint-and-the-Microsoft-Security-Development-Lifecycle)  - ** Kör alla tillgängliga kontroller som tillhandahålls av tslint- och tslint-microsoft-contrib-reglerna som uppfyller de *nödvändiga och rekommenderade* [SDL-principerna (Security Development Lifecycle).](https://www.microsoft.com/sdl/)<br/><br/>** [microsoft:rekommenderas](https://github.com/Microsoft/tslint-microsoft-contrib/blob/master/recommended_ruleset.js)  - ** Alla kontroller som rekommenderas av skaparna av tslint-microsoft-contrib-reglerna. Detta inkluderar säkerhetskontroller och icke-säkerhetskontroller.<br/><br/>** [tslint:senaste](https://github.com/palantir/tslint/blob/master/src/configs/latest.ts)  - ** Utökar `tslint:recommended` och uppdateras kontinuerligt för att inkludera konfiguration för de senaste reglerna i varje TSLint-version. Med hjälp av denna config kan införa bryta ändringar över mindre versioner som en ny regler är aktiverade som orsakar ludd fel i koden. När TSLint når en huvudversion bump, `tslint:recommended` kommer `tslint:latest`att uppdateras för att vara identisk med .<br/><br/>** [tslint:rekommenderas](https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts)  - ** En stabil, något påstridig uppsättning regler som TSLint uppmuntrar för allmän TypeScript-programmering. Den här `semver`konfigurationen följer , så att den *inte* kommer att ha bryta ändringar över mindre eller patch utgåvor.
| ReglersetFile | sträng | Regeluppsättning == anpassade ELLER-reglerMicrosoft == anpassade | True |  |  | En [konfigurationsfil](https://palantir.github.io/tslint/usage/cli/) som anger vilka regler som ska köras.<br/><br/>Sökvägen till konfigurationen läggs till som sökväg för [anpassade regler](https://palantir.github.io/tslint/develop/custom-rules/).
| FilVäljtyp | Plocklista | alltid | True | filGlob | fileGlob, projektFile | 
| Filer | sträng | FileSelectionType == filGlob | True | **\*.ts (ts) |  | En [filglob](https://www.npmjs.com/package/glob) som bestämmer vilka filer som ska bearbetas. Sökvägarna är `Build.SourcesDirectory` relativa till värdet.<br/><br/>Microsofts bidragsbibliotek kräver användning av en projektfil. Om du använder Microsofts bidragsbibliotek med `File Glob Pattern` alternativet genereras en projektfil åt dig.
| ECMAScriptVersion | Plocklista | FileSelectionType == fileGlob && RuleLibrary == microsoft | True | ES3 (ES3) | ES2015, ES2016, ES2017, ES3, ES5, ES6, ESNext | Målversionen av ECMAScript som konfigurerats med TypeScript-kompilatorn. När du använder en projektfil är det här fältet compilerOptions.target för filen TypeScript tsconfig.json.
| Project | sträng | FileSelectionType == projectFile | True |  |  | Sökväg till en [tsconfig.json-fil](http://www.typescriptlang.org/docs/handbook/tsconfig-json.html) som anger att TypeScript-filer ska köra TSLint på. Sökvägarna är `Build.SourcesDirectory` relativa till värdet.
| TypeCheck | boolean | RegelBibliotek != microsoft && FileSelectionType == projectFile | False | true |  | Aktiverar typkontrollen när du kör linningsregler.
| Exkluderafiler | sträng | alltid | False |  |  | En [glob](https://www.npmjs.com/package/glob) som anger filer att utesluta från linting. Sökvägarna är `Build.SourcesDirectory` relativa till värdet. Flera värden kan anges avgränsade med semikolon.
| OutputFormat | Plocklista | alltid | True | json | checkstyle, codeFrame, filesList, json, msbuild, pmd, prosa, snygg, utförlig, vso | Den [formatter som](https://palantir.github.io/tslint/formatters/) ska användas för att generera utdata. Observera att JSON-formatet är kompatibelt med Postanalys.
| NodeMemory | sträng | alltid | False |  |  | En explicit mängd minne i MBs att allokera till nod för att köra TSLint. Exempel: 8000<br/><br/>Mappar till `--max_old_space=<value>` CLI-alternativet för nod, som är en `v8 option`.
| Verktygsversion | Plocklista | RegelBibliotek != microsoft | True | senaste | 4.0.0, 4.0.1, 4.0.2, 4.1.0, 4.1.1, 4.2.0, 4.3.0, 4.3.1, 4.4.0, 4.4.1, 4.4.2, 4.5.0, 4.5.1, 5.0.0, 5.1.0, 5.2.0, 5.3.0, 5.3.2, 5.4.0, 5.4.1, 5.4.2, 5.4.3, 5.5.0, senaste | [Den version](https://github.com/palantir/tslint/releases) av TSLint att ladda ner och köra.
| TypeScriptVersion (TypeScriptVersion) | Plocklista | alltid | True | senaste | 0.8.0, 0.8.1, 0.8.2, 0.8.3, 0.9.0, 0.9.1, 0.9.5, 0.9.7, 1.0.0, 1.0.1, 1.3.0, 1.4.1, 1.5.3, 1.6.2, 1.7.3, 1.7.5, 1.8.0, 1.8.10, 1.8.2, 1.8.5, 1.8.6, 1.8.7, 1.8.9, 1.9.0, 2.0.0, 2.0.10, 2.0.2, 2.0.3, 2.0.6, 2.0.7, 2.0.8, 2.0.9, 2.1.1, 2.1.4, 2.1.5, 2.1.6, 2.2.0, 2.2.1, anpassad, senaste | Den version av [typscript](https://www.npmjs.com/package/typescript) att ladda ner och använda.<br/>**Anm.:** Detta måste vara samma version av TypeScript som används för att kompilera koden.
| TypeScriptVersionCustom | sträng | TypeScriptVersion == anpassad | True | senaste |  | Den version av [typscript](https://www.npmjs.com/package/typescript) att ladda ner och använda.<br/>**Anm.:** Detta måste vara samma version av TypeScript som används för att kompilera koden.
| MicrosoftContribVersion (MicrosoftContribVersion) | Plocklista | RegelBibliotek == microsoft |  | senaste | 4.0.0, 4.0.1, 5.0.0, 5.0.1, senaste | Den version av [tslint-microsoft-contrib](https://www.npmjs.com/package/tslint-microsoft-contrib) (SDL Regler) att ladda ner och använda.</br>**Anm.:** Den version av [tslint](https://www.npmjs.com/package/tslint) kommer att väljas som är kompatibel med den version som valts för tslint-microsoft-contrib. Uppdateringar av tslint-microsoft-contrib kommer att gated av den här bygguppgiften tills en period av testning kan inträffa.

## <a name="publish-security-analysis-logs-task"></a>Uppgift publicera säkerhetsanalysloggar

| **InputType (Inmatningstyp)**      | **Typ**     | **Tillämpliga**            | **Obligatoriskt** | **Standardvärdet**             | **Alternativ (för plocklistor)**                                   | **Beskrivning**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ArtifactName (Artefaktnamn) | sträng | alltid | True | CodeAnalysisLogs |  | Namnet på artefakten som ska skapas.
| ArtifactType (ArtifactType) | Plocklista | alltid | True | Container | Behållare, FilePath | Den typ av artefakt som ska skapas.
| TargetPath (målväg) | sträng | ArtifactType = FilePath | False | \\min\share\$(Build.DefinitionName)<br>\$(Build.BuildNumber) |  | Filresursen som filerna ska kopieras till
| AllTools (allatools) | boolean | alltid | True | true |  | Publicera resultat som genereras av alla secure development tools-bygguppgifter.
| Antimalware | boolean | AllTools = falskt | True | true |  | Publicera resultat som genereras av AntiMalware-bygguppgifter.
| BinSkim (400) | boolean | AllTools = falskt | True | true |  | Publicera resultat som genereras av BinSkim-bygguppgifter.
| CredScan (credScan) | boolean | AllTools = falskt | True | true |  | Publicera resultat som genereras av Autentiseringsuppgifter för autentiseringsläsare.
| MSRD (av allt) | boolean | AllTools = falskt | True | true |  | Publicera jobbinformation och jobb-url:ar för MSRD-jobb som startats av MSRD-bygguppgiften. MSRD-jobb är tidskrävande och ger separata rapporter.
| RoslynAnalyzers | boolean | AllTools = falskt | True | false |  | Publicera resultat som genereras av Roslyn Analyzers bygguppgifter.
| TSLint (tslint) | boolean | AllTools = falskt | True | true |  | Publicera resultat som genereras av TSLint-bygguppgifter. Observera att endast TSLint-loggar i JSON-formatet stöds för rapporter. Om du har valt ett annat format uppdaterar du din TSLint-bygguppgift därefter.
| ToolLogsNotFoundAction | Plocklista | alltid | True | Standard | Fel, Ingen, Standard, Varning | Åtgärden som ska vidtas när loggar för ett valt verktyg (eller något verktyg om alla verktyg är markerat) inte hittas, vilket innebär att verktyget inte kördes.<br/><br/>**Alternativ:**<br/>**Ingen:** Meddelandet skrivs till den utförliga utdataströmmen som endast är tillgänglig genom att vsts-variabeln **system.debug** ställs in på **true**.<br/>**Standard:** (Standard) Skriver ett standardutdatameddelande om att inga loggar hittades för verktyget.<br/>**Varning:** Skriver ett gult varningsmeddelande om att inga loggar hittades för verktyget, som visas på sammanfattningssidan för bygget som en varning.<br/>**Fel:** Skriver ett rött felmeddelande och kastar ett undantag, bryta bygga. Använd det här alternativet för att säkerställa individuella verktygsalternativ för att säkerställa vilka verktyg som kördes.

## <a name="security-report-task"></a>Uppgift om säkerhetsrapport

| **InputType (Inmatningstyp)**      | **Typ**     | **Tillämpliga**            | **Obligatoriskt** | **Standardvärdet**             | **Alternativ (för plocklistor)**                                   | **Beskrivning**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| VstsConsole (0, 2000) | boolean | alltid | False | true |  | Skriv resultat till Pipeline-konsolen.
| TsvFile (tsvfile) | boolean | alltid | False | true |  | Generera en tsv-fil (flikavgränsade värden) med en rad per sökresultat och flikar som separerar information för resultatet.
| HtmlFile (9)HtmlFile | boolean | alltid | False | true |  | Generera en html-rapportfil.
| AllTools (allatools) | boolean | alltid | True | false |  | Rapportresultat som genereras av alla secure development tools-bygguppgifter.
| BinSkim (400) | boolean | AllTools = falskt | True | false |  | Rapportresultat som genererats av Lagerplats för byggaktiviteter.
| BinSkimBreakOn | Plocklista | AllTools = sant ELLER BinSkim = sant | True | Fel | Fel, WarningAbove | Nivån på resultaten att rapportera.
| CredScan (credScan) | boolean | AllTools = falskt | True | false |  | Rapportresultat som genererats av Autentiseringsuppgifter för skanningsren.
| MSRD (av allt) | boolean | AllTools = falskt | True | false |  | Rapportera jobbinformation och jobb-url:ar för MSRD-jobb som startats av MSRD-byggaktiviteten. MSRD-jobb är tidskrävande och ger separata rapporter.
| RoslynAnalyzers | boolean | AllTools = falskt | True | false |  | Rapportresultat som genereras av Roslyn Analyzer-bygguppgifter.
| RoslynAnalyzersBreakOn | Plocklista | AllTools = sant ELLER RoslynAnalyzers = sant | True | Fel | Fel, WarningAbove | Nivån på resultaten att rapportera.
| TSLint (tslint) | boolean | AllTools = falskt | True | false |  | Rapportresultat som genereras av TSLint-bygguppgifter. Observera att endast TSLint-loggar i JSON-formatet stöds för rapporter. Om du har valt ett annat format uppdaterar du din TSLint-bygguppgift därefter.
| TSLintBreakOn (TSLintBreakOn) | Plocklista | AllTools = sant ELLER TSLint = sant | True | Fel | Fel, WarningAbove | Nivån på resultaten att rapportera.
| ToolLogsNotFoundAction | Plocklista | alltid | True | Standard | Fel, Ingen, Standard, Varning | Åtgärden som ska vidtas när loggar för ett valt verktyg (eller något verktyg om alla verktyg är markerat) inte hittas, vilket innebär att verktyget inte kördes.<br/><br/>**Alternativ:**<br/>**Ingen:** Meddelandet skrivs till den utförliga utdataströmmen som endast är tillgänglig genom att vsts-variabeln **system.debug** ställs in på **true**.<br/>**Standard:** (Standard) Skriver ett standardutdatameddelande om att inga loggar hittades för verktyget.<br/>**Varning:** Skriver ett gult varningsmeddelande om att inga loggar hittades för verktyget, som visas på sammanfattningssidan för bygget som en varning.<br/>**Fel:** Skriver ett rött felmeddelande och kastar ett undantag, bryta bygga. Använd det här alternativet för att säkerställa individuella verktygsalternativ för att säkerställa vilka verktyg som kördes.
| CustomLogsFolder | sträng | alltid | False |  |  | Basmappen där analysverktygsloggar finns. De enskilda loggfilerna kommer att finnas i undermappar uppkallade efter varje verktyg under den här sökvägen.

## <a name="post-analysis-task"></a>Uppgift efter analys

| **InputType (Inmatningstyp)**      | **Typ**     | **Tillämpliga**            | **Obligatoriskt** | **Standardvärdet**             | **Alternativ (för plocklistor)**                                   | **Beskrivning**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| AllTools (allatools) | boolean | alltid | True | false |  | Bryt versionen om några problem hittas av någon versionsuppgift för Microsoft Security Code Analysis.
| BinSkim (400) | boolean | AllTools = falskt | True | false |  | Bryt om några BinSkim-problem hittas, enligt alternativet Bryt på.
| BinSkimBreakOn | Plocklista | AllTools = sant ELLER BinSkim = sant | True | Fel | Fel, WarningAbove | Nivån på frågor för att bryta bygga.
| CredScan (credScan) | boolean | AllTools = falskt | True | false |  | Bryt versionen om några problem med autentiseringsläsaren hittas.
| RoslynAnalyzers | boolean | AllTools = falskt | True | false |  | Bryt om några Problem med Roslyn Analyzers hittas.
| RoslynAnalyzersBreakOn | Plocklista | AllTools = sant ELLER RoslynAnalyzers = sant | True | Fel | Fel, WarningAbove | Nivån på frågor för att bryta bygga.
| TSLint (tslint) | boolean | AllTools = falskt | True | false |  | Bryt versionen om några TSLint-problem hittas. Observera att endast TSLint-loggar i JSON-formatet stöds för efteranalys. Om du har valt ett annat format uppdaterar du din TSLint-bygguppgift därefter.
| TSLintBreakOn (TSLintBreakOn) | Plocklista | AllTools = sant ELLER TSLint = sant | True | Fel | Fel, WarningAbove | Nivån på frågor för att bryta bygga.
| VstsConsole (0, 2000) | boolean | alltid | False | true |  | Skriv resultat till Pipeline-konsolen.
| ToolLogsNotFoundAction | Plocklista | alltid | True | Standard | Fel, Ingen, Standard, Varning | Åtgärden som ska vidtas när loggar för ett valt verktyg (eller något verktyg om alla verktyg är markerat) inte hittas, vilket innebär att verktyget inte kördes.<br/><br/>**Alternativ:**<br/>**Ingen:** Meddelandet skrivs till den utförliga utdataströmmen som endast är tillgänglig genom att vsts-variabeln **system.debug** ställs in på **true**.<br/>**Standard:** (Standard) Skriver ett standardutdatameddelande om att inga loggar hittades för verktyget.<br/>**Varning:** Skriver ett gult varningsmeddelande om att inga loggar hittades för verktyget, som visas på sammanfattningssidan för bygget som en varning.<br/>**Fel:** Skriver ett rött felmeddelande och kastar ett undantag, bryta bygga. Använd det här alternativet för att säkerställa individuella verktygsalternativ för att säkerställa vilka verktyg som kördes.

## <a name="next-steps"></a>Nästa steg

Om du har ytterligare frågor om tillägget Security Code Analysis och de verktyg som erbjuds, kolla in [vår FAQ-sida.](security-code-analysis-faq.md)